<style>

  .madlib {
    position: absolute;
		left: 47vw;
    padding: 20px;
    font-family: lucida-console;
    font-size: 5vw;
    text-wrap: overflow;
  }
  
  .button {
    position: absolute;
    left: 55vw;
    top: 10vw;
    font-family: lucida-console;
    font-size: 3vw;

  }
  
  .mlText {
    position: absolute;
    left: 5vw;
    top: 20vw;
    font-family: lucida-console;
    font-size: 5vw;
  }

</style>

<div class="madlib">MADLIBS</div>

<button class="button">generate</button>
<div class="mlText"></div>

<script>
  
  function countInstances (string, word) {
   return string.split(word).length - 1;
	}
	
  const madlib = document.querySelector('.madlib')
  const button = document.querySelector('.button')

  const ingVerbs = ['walking', 'dancing', 'cooking', 'crying', 'shopping', 'laughing', 'crochet', 
                    'snorkeling', 'hula-hooping', 'cleaning', 'cheering', 'curling', 'bobsledding', 
                    'skipping']
  const courses = ['Media Aesthetics', 'Internet Art', 'Self, Culture, and Society', 'General Chemistry', 
                   'Principles of Microeconomics', 'Philosophical Perspectives']
  const adjectives = ['yellow', 'dry', 'old', 'dirty', 'clear', 'green', 'metal', 'small', 
                      'ambitious', 'oily']
  const nouns = ['shoes', 'octopi', 'cans', 'phones', 'chocolates', 'pencils', 'shirts', 'chopsticks', 
                   'napkins', 'plates']
  const edVerbs = ['walked', 'danced', 'cooked', 'cried', 'shopped', 'laughed', 'crocheted', 'snorkeled', 
                   'hula-hooped', 'cleaned', 'cheered', 'curled', 'bobsled', 'skipped']
  const feelings = ['happy', 'sad', 'excited', 'scared', 'worried', 'dazed', 'enraged', 'depresed', 
                    'scared', 'overjoyed']
  const people = ['Dean Boyer', 'Professor Briz', 'Dean Nandorf', 'President Alivisatos',
                  'Professor Satrom', 'Professor Jagoda']
  const places = ['the Reg', 'Harper', 'Woodlawn', 'Crerar', 'Plein Air', 'Mansueto', 'Rockefeller Chapel']
  
  // const madlib1 = 'I was {{-ing verb}} in {{course}} when all of a sudden I looked around and saw {{adj}} {{pl noun}} all around me! I was {{feeling}} because the professor was still {{-ing verb}}. What a {{adj}} day of class...'
  // const madlib2 = 'I {{-ed verb}} around campus today. I decided to enter {{place}} to do homework. Suddenly, {{person}} appeared and took my homework! I tried to tell my professor, but they became {{feeling}}. Oh well...'
  
  const genIngVerbs = []
  const genCourses = []
  const genAdjectives = []
  const genNouns = []
  const genEdVerbs = []
  const genFeelings = []
  const genPeople = []
  const genPlaces = []
  
  const madlibs = ['I was {{-ing verb}} in {{course}} when all of a sudden I looked around and saw {{adj}} {{pl noun}} all around me! I was {{feeling}} because the professor was still {{-ing verb}}. What a {{adj}} day of class...',
                   'I {{-ed verb}} around campus today. I decided to enter {{place}} to do homework. Suddenly, {{person}} appeared and took my homework! I tried to tell my professor, but they became {{feeling}}. Oh well...',
                  'Today in {{course}} there was a surprise lecture by {{person}}. In the middle, they suddenly began {{-ing verb}}. Everyone felt really {{feeling}}!']
  
  function randomItem (arr) {
    const n = Math.floor(Math.random() * arr.length)
    return arr[n]
  }
  
  let chosenML = randomItem (madlibs)
  
  function showWords () {
    
    const numIngVerbs = countInstances(chosenML, '{{-ing verb}}')
    const numCourses = countInstances(chosenML, '{{course}}')
    const numAdjectives = countInstances(chosenML, '{{adj}}')
    const numNouns = countInstances(chosenML, '{{pl noun}}')
    const numEdVerbs = countInstances(chosenML, '{{-ed verb}}')
    const numFeelings = countInstances(chosenML, '{{feeling}}')
    const numPeople = countInstances(chosenML, '{{person}}')
		const numPlaces = countInstances(chosenML, '{{place}}')
    
    for (let a = 0; a < numIngVerbs; a++) {
			const ingVerb = randomItem(ingVerbs)
      genIngVerbs.push(ingVerb)
    }
    
    for (let b = 0; b < numCourses; b++) {
			const course = randomItem(courses)
      genCourses.push(course)
    }
    
    for (let c = 0; c < numAdjectives; c++) {
			const adj = randomItem(adjectives)
      genAdjectives.push(adj)
    }
    
    for (let d = 0; d < numNouns; d++) {
			const noun = randomItem(nouns)
      genNouns.push(noun)
    }
    
    for (let e = 0; e < numEdVerbs; e++) {
			const edVerb = randomItem(edVerbs)
      genEdVerbs.push(edVerb)
    }
    
    for (let f = 0; f < numFeelings; f++) {
			const feeling = randomItem(feelings)
      genFeelings.push(feeling)
    }
    
    for (let g = 0; g < numPeople; g++) {
			const person = randomItem(people)
      genPeople.push(person)
    }
    
    for (let h = 0; h < numPlaces; h++) {
			const place = randomItem(places)
      genPlaces.push(place)
    }

  }
  
  function showMadLib () {
    
    madlib.textContent = 'MADLIBS'
    showWords ()
    
    for (let a = 0; a < genIngVerbs.length; a++) {
			chosenML = chosenML.replace('{{-ing verb}}', genIngVerbs[a])
    }
    
    for (let b = 0; b < genCourses.length; b++) {
			chosenML = chosenML.replace('{{course}}', genCourses[b])
    }
    
    for (let c = 0; c < genAdjectives.length; c++) {
			chosenML = chosenML.replace('{{adj}}', genAdjectives[c])
    }
    
    for (let d = 0; d < genNouns.length; d++) {
			chosenML = chosenML.replace('{{pl noun}}', genNouns[d])
    }
    
    for (let e = 0; e < genEdVerbs.length; e++) {
			chosenML = chosenML.replace('{{-ed verb}}', genEdVerbs[e])
    }
    
    for (let f = 0; f < genFeelings.length; f++) {
			chosenML = chosenML.replace('{{feeling}}', genFeelings[f])
    }
    
    for (let g = 0; g < genPeople.length; g++) {
			chosenML = chosenML.replace('{{person}}', genPeople[g])
    }
    
    for (let h = 0; h < genPlaces.length; h++) {
			chosenML = chosenML.replace('{{place}}', genPlaces[h])
    }
    
    console.log(chosenML)
    
  }
  
  function setup () {
    
    showMadLib ()
    
    if (button.onClick === true) {
      mlText.textContent = chosenML
    }

  }
  
  window.addEventListener ('load', setup ())
  // button.addEventListener ('click', showMadLib())

</script>
